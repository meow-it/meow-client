<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="theme-color" content="#FFFFFF">
    <meta name="description" content="Send meows to everyone around 5 km from you">
    <meta name="keywords" content="meow, meow-it, meow it">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">

    <meta property="og:url"         content="https://meowit.netlify.app" />
    <meta property="og:type"        content="website" />
    <meta property="og:title"       content="Meow It" />
    <meta property="og:description" content="Check out this Meow!" />
    <meta property="og:image"       content="https://raw.githubusercontent.com/meow-it/meow-client/main/assets/image/kitty.webp" />

    <link rel="stylesheet" href="./assets/css/nprogress.css"/>
    <link rel="stylesheet" href="./assets/css/main.css">

    <link rel="manifest" href="./site.webmanifest">
    <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="./apple-touch-icon.webp">

    <script src="./assets/js/localforage.js"></script>

    <title>Meow It</title>
</head>
<body>
    <noscript>
        <div class="no-js-warning">
            <img src="./assets/image/sadcat.webp" alt="Sad Cat. Enable JavaScript" title="Enable JavaScript" height="150" width="150">
            <span>Warning!</span>
            <span>You need to enable JavaScript to run this app</span>
        </div>
    </noscript>
    <div class="firstTimeVisit">
        <img src="./assets/image/kitty.webp" alt="Meow It" width="150" height="150">
        <div class="firstTimeContent">
            <div class="firstTimeContentTop">
                <span class="welcomeText">Welcome to Meow It!</span>
                <div class="whatIsThis">
                    <span>Broadcast anything to the world üåê around you anonymouslyüëΩ</span>
                    <span>Anyone within 5 km radius can see and comment on your message.</span>
                    <span>Auto delete meows after 24 hours ‚è≥</span>
                    <span>Filters out toxic words / Bans ‚õî accounts - safe for children üë∂ - with review and report systems.</span>
                    <span>No account needed üêæ</span>
                    <button class="noselect">Find your clowder!</button>
                </div>
            </div>
            <span>&nbsp;</span>
            <div class="firstTimeContentBottom">
                <!-- <a href="./legal/privacy.html">Privacy üîè</a>
                <span>&nbsp; &bull; &nbsp;</span>
                <a href="./legal/terms.html">Terms üìô</a>
                <span>&nbsp; &bull; &nbsp;</span>
                <a href="https://github.com/meow-it" target="_blank" rel="noreferrer noopener" >Sources  üë©‚Äçüíª</a> -->
            </div>
        </div>
    </div>
    <div class="newUserLoading">
        <img class="roundedGif10px" src="./assets/image/loading.gif" alt="Loading" height="250" width="250" >
        <div class="loadingTextContainer">
            <span class="loadingText">Loading</span>
            <span class="loadingInfo">Creating a new meow account</span>
        </div>
    </div>
    <div class="bannedUser">
        <img class="roundedGif10px" src="./assets/image/error.gif" alt="Banned" height="225" width="300" >
        <div class="loadingTextContainer">
            <span class="bannedText">You're Banned!</span>
            <span class="loadingInfo">You're Banned from using Meow It! You most likely posted a content that does not follow community guidelines</span>
        </div>
    </div>
    <div class="whyLocationInfo">
        <div class="cancelGoBack">
            <img class="cancelGoBack" src="./assets/image/cancel.webp" alt="Cancel" height="50" width="50">
            <span class="cancelGoBack noselect">Go Back</span>
        </div>
        <div class="overflowDiv">
            <div class="container">
                <h2>Frequently Asked Questions</h2>
                <div class="accordion">
                    <div class="accordion-item">
                        <button id="accordion-button-1" aria-expanded="false">
                            <span class="accordion-title">Why does Meow require Location?</span>
                            <span class="icon" aria-hidden="true"></span>
                        </button>
                        <div class="accordion-content">
                            <p>Meow requires your precise location for many purposes:</p>
                            <ol>
                                <li>Refresh for the feeds from 5 Km around you</li>
                                <li>Post a Meow with your co-ordinates so that it is visible by others</li>
                            </ol>
                        </div>
                   </div>
                    <div class="accordion-item">
                        <button id="accordion-button-2" aria-expanded="false">
                            <span class="accordion-title">What does Meow do with the Location data?</span>
                            <span class="icon" aria-hidden="true"></span>
                        </button>
                        <div class="accordion-content">
                            <p>Meow will:</p>
                            <ol>
                                <li>Use your precise location co-ordinates for searching and posting</li>
                                <li>Never store your location data anywhere</li>
                                <li>Never associate you with the location data</li>
                            </ol>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <button id="accordion-button-3" aria-expanded="false">
                            <span class="accordion-title">How can I be sure that my data is safe?</span>
                            <span class="icon" aria-hidden="true"></span>
                        </button>
                        <div class="accordion-content">
                            <p> Meow doesn't have huge storage. It is basically impossible for us to store your loation data. 
                                Hard to believe? Check out the source code on <a href="https://github.com/meow-it">GitHub‚Üó</a> 
                                and feel free to contribute!
                            </p>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <button id="accordion-button-4" aria-expanded="false">
                            <span class="accordion-title">What should I do if nothing happens when I press <q>Give Permission</q> ?</span>
                            <span class="icon" aria-hidden="true"></span>
                        </button>
                        <div class="accordion-content">
                            <p class="font600">There are many things which might be causing this problem. They are listed below:</p>
                            <ol>
                                <li>You didn't allow Meow to access your device permission multiple times</li>
                                <li>Your browser doesn't have access to your device location</li>
                                <li>You didn't turn on GPS on your device</li>
                                <li>Your browser does not support this application</li>
                                <li>You're using an outdated version of modern browsers. If yes, try again after updating it.</li>
                            </ol>
                
                            <p>Hopefully you can trouble shoot this problem:</p>
                            <p class="font600">On Android:</p>
                            <ol>
                                <li>Go to System Settings -> All Apps -> Browser -> Permissions and grant permission</li>
                                <li>Now, open the website and click on the PadLock icon next to the URL and grant location access</li>
                                <li>If the PadLock icon is not visible, go to site settings and grant the location permission</li>
                            </ol>
                            <p class="font600">On iOS:</p>
                            <ol>
                                <li>Go to Settings -> Privacy -> Location Services and make sure it is ON and the browser has location access. </li>
                                <li>If you're a Safari user, go to Settings -> Safari -> Location and set it to <q>Allow</q> </li>
                                <li>And open the site settings for Meow on Safari and grant the location permission</li>
                            </ol>
                            <p class="font600">On Windows 10</p>
                            <ol>
                                <li>Click on the PadLock Icon next to the URL in the browser.</li>
                                <li>In the Permissions Options, grant Location access and reload the page</li>
                                <li>Or click on the location icon to the right of the address bar and set it to <q>Always allow Meow to access your location</q></li>
                            </ol>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <button id="accordion-button-3" aria-expanded="false">
                            <span class="accordion-title">Nothing happens when I press "Install App (PWA)", What to do?</span>
                            <span class="icon" aria-hidden="true"></span>
                        </button>
                        <div class="accordion-content">
                            <p> You most likely chose cancel to an install prompt or uninstalled the app 
                                that was already installed on the system. If it doesn't work, try clicking 
                                on the "Add to Home Screen" or "Install App" buttons in the browser menu. 
                                Click the Install icon to the right of the address (omni) bar on desktops.
                            </p>
                        </div>
                    </div>
                </div>
             </div>
        </div>
    </div>
    <div class="noLocationAccess">
        <img src="./assets/image/error.gif" class="roundedGif10px" alt="Error" height="225" width="300" >
        <span class="errorText">This app requires your Geolocation to refresh the feed</span>
        <span class="makeSure">Make sure the GPS is turned ON and the browser has location access</span>
        <span class="learnMore">Learn more about how to turn it on, or why we need it, or how it is used ‚Üó</span>
        <span class="givePermissionButton noselect">Give Permission</span>
    </div>
    <div class="newMeowModalContainer">   
        <div class="createNewMeow">
            <div class="newMeowStatusMessage">
                <span>You're Offline! Try sending the meow when you're online. 
                    üòû Bruh, Try using Chromium Browsers for a rich offline experience!
                </span>
                <span class="goBackToHomeButton">Go Home</span>
            </div>
            <div class="optionsHolder">
                <div class="option cancelMeow">
                    <span class="optionImage cancelMeow">
                        <img class="cancelMeow" src="./assets/image/cancel.webp" alt="Cancel" height="50" width="50">
                    </span>
                    <span class="optionText noselect">Cancel</span>
                </div>
                <div class="option createMeow">
                    <span class="optionImage createMeow">
                        <img class="createMeow" src="./assets/image/cat-face.webp" alt="Meow It" height="50" width="50">
                    </span>
                    <span class="optionText noselect">Meow It</span>
                </div>
            </div>
            <div class="meowInputContainer">
                <textarea class="meowInput" placeholder="What's on your mind?"></textarea>
                <span class="meowInputCharactersRemaining">
                    <span class="meowInputCharactersRemainingNumber noselect">280</span>
                    <span class="meowInputCharactersRemainingText noselect" data-limit="280">/ 280</span>
                </span>
            </div>
        </div>
    </div>
    <div class="commentsModalContainer">   
        <div class="createNewComment">
            <div class="optionsHolder">
                <div class="option closeComments">
                    <span class="optionImage closeComments">
                        <img class="closeComments" src="./assets/image/cancel.webp" alt="Cancel" height="50" width="50">
                    </span>
                    <span class="optionText noselect closeComments">Close</span>
                </div>
            </div>
            <span class="commentsHeading">Comments</span>
            <div class="commentMeowContainer"></div>
            <div class="addNewComment">
                <img src="" alt="" class="commentingUserProfilePicture" height="25" width="25" aria-label="Profile Pic">
                <input type="text" aria-label="Textbox to type comments" class="commentInput" placeholder="Comment something üòº">
                <img src="./assets/image/spinner.gif" class="postingCommentSpinner" alt="Posting Comment" height="25" width="25"  >
                <img src="./assets/image/comment.webp" aria-label="Comment" alt="Comment" class="postCommentButton" height="25" width="25">
            </div>
            <div class="commentsContainer">
            </div>
        </div>
    </div>
    <div class="wrapper">
        <span class="currentFeedStatus">Refreshing feed</span>
        <div class="header">
            <div class="userStuff">
                <img class="profilePicture" src="./assets/image/add.webp" alt="Profile Pic" width="45" height="45">
                <span class="username noselect">loading...</span>
            </div>
            <img class="createNewMeowButton" src="./assets/image/add.webp" alt="Profile Pic" width="50" height="50">
        </div>
        <div class="locationHolder">
            <img class="currentLocation" src="./assets/image/location.webp" alt="Current Location" width="30" height="30">
            <span class="locationText noselect">loading...</span>
        </div>
        <div class="meowsContainer">
            
        </div>
    </div>
    <div class="userInfo">
        <div class="optionsHolder">
            <div class="option closeUserInfo">
                <span class="optionImage closeUserInfo">
                    <img class="closeUserInfo" src="./assets/image/cancel.webp" alt="Cancel" height="50" width="50">
                </span>
                <span class="optionText closeUserInfo noselect">Go back</span>
            </div>
        </div>
       <div class="actualUserInfoContent">
            <img src="" alt="Profile Picture" class="infoUserProfilePicture" height="80" width="80">
            <span class="infoUsername noselect">
                loading...
            </span>
            <span class="legal noselect">Legal üìô</span>
            <span class="showFaqSpan noselect">FAQs üìî</span>
            <span class="logoutButton noselect">Logout ‚ùå</span>
            <div class="themeChangeButton" data-state="">
                <span>Display Theme üåó</span>
                <div class="switch-button">
                    <input class="switch-button-checkbox themeInput" type="checkbox"></input>
                    <label class="switch-button-label" for=""><span class="switch-button-label-span">Light</span></label>
                </div>
            </div>
            <span class="source noselect">Source üìö</span>
            <span class="deleteCache noselect">Delete Cache üîÅ</span>
            <div class="installPWAFromUser installPWAButtonFromUserInfo">
                <img class="installPWAButtonFromUserInfo" src="./assets/image/kitty.webp" alt="Meow It" height="80" width="80">
                <span class="noselect installPWAButtonFromUserInfo">Install App (PWA)</span> 
            </div>
            <div class="buyMeACoffee">
                <span>Buy me a coffee</span>
                <img src="./assets/image/coffee.svg" alt="Buy tharunoptimus a coffee" height="35" width="35">
            </div>
       </div>
    </div>
    <div class="meowFromId">
        <div class="locationHolder">
            <img src="./assets/image/location.webp" alt="Current Location" width="30" height="30">
            <span class="meowLocationText noselect">loading...</span>
        </div>
        <div class="meowContainer">
            
        </div>
    </div>
    <script src="./assets/js/nprogress.js"></script>
    <script src="./assets/js/pullToRefresh.js"></script>
    <script src="./assets/js/fingerprint.js"></script>
    <script src="./assets/js/functions.js"></script>
    <script src="./assets/js/impure.js"></script>
    <script src="./assets/js/app.js"></script>
    <script>
        if('serviceWorker' in navigator) {

            let meowsUpdateBackgroundSyncTagName = 'meowsUpdateBackgroundSync'
            let commentsUpdateBackgroundSyncTagName = 'commentsUpdateBackgroundSync'
            let periodicMeowSyncTagName = 'periodicMeowSync'
            let hoursToSync = 1

            window.addEventListener('load', () => {
                navigator.serviceWorker.register('serviceworker.js')
                    .then((reg) => console.log('Success: ', reg.scope))
                    .catch((err) => console.log('Failure: ', err))
            })

            navigator.serviceWorker.ready.then(async registration => {
                if (registration.sync) {
                    await registration.sync.register(meowsUpdateBackgroundSyncTagName)
                    await registration.sync.register(commentsUpdateBackgroundSyncTagName)
                } else {
                    console.log('Background Sync not supported: ' + registration.sync)
                }

                if(registration.periodicSync) {
                    try {
                        await registration.periodicSync.register(periodicMeowSyncTagName, {
                            minInterval: hoursToSync * 60 * 60 * 1000,
                        })
                    } catch (error) {
                        console.log(`Unable to Register Periodic Sync: ${error}`)
                    }
                }
            })
        }
    </script>
</body>
</html>